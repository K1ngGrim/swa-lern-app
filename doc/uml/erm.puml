@startuml EntityRelationshipDiagram
' SmartLearn – Entity-Relationship-Diagramm (aktualisierte Struktur)
left to right direction
!theme plain

skinparam linetype polyline
skinparam linetype ortho

entity "AspNetUsers" as User {
    *Id : uuid
    --
    UserName : string
    Email : string
    EmailConfirmed : bool
}

entity "Decks" as Deck {
    *Id : uuid
    --
    userId : uuid
    creatorId : uuid
    created : datetime
    modifierId : uuid
    modified : datetime
}

entity "Cards" as Card {
    *Id : uuid
    --
    deckId : uuid
    front : string
    back : string
    creatorId : uuid
    created : datetime
    modifierId : uuid
    modified : datetime
    repetitions : int
    interval : double
    due_date : datetime
}

entity "Statistics" as Statistic {
    *StatisticId : uuid
    --
    deckId : uuid
    user_id : uuid
    date : date
    data : jsonb { cardsLearned : int }
}

' Beziehungen mit Multiplicitäten
User "1" --- "0..*" Deck : besitzt
Deck "1" ---- "0..*" Card : enthält
User "1" -- "0..*" Statistic : erstellt
Deck "1" ---- "0..*" Statistic : gehört zu

@enduml
