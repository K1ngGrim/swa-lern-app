<div class="page-header">
  <button (click)="goBack()" class="back-btn" aria-label="Go back">
    <svg class="back-icon" viewBox="0 0 24 24" width="18" height="18">
      <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
    </svg>
    {{ 'NAVIGATION.BACK' | translate }}
  </button>

  <button (click)="logout()" class="logout-btn" aria-label="Logout">
    <svg class="logout-icon" viewBox="0 0 24 24" width="18" height="18">
      <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
    </svg>
    {{ 'NAVIGATION.LOGOUT' | translate }}
  </button>
</div>

<main class="page-content">
  <div class="form-container">
    <h1>{{ 'DECK_CREATE.TITLE' | translate }}</h1>

    <!-- Success Message -->
    <div *ngIf="successMessage()" class="alert alert-success">
      {{ successMessage() | translate }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage()" class="alert alert-error">
      {{ errorMessage() | translate }}
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="deck-form">
      <div class="form-field">
        <label for="deck-name">{{ 'DECK_CREATE.NAME_LABEL' | translate }}</label>
        <input
          id="deck-name"
          type="text"
          formControlName="name"
          [class.invalid]="form.get('name')?.invalid && form.get('name')?.touched"
        />
        <p class="field-error" *ngIf="form.get('name')?.hasError('required') && form.get('name')?.touched">
          {{ 'DECK_CREATE.NAME_REQUIRED' | translate }}
        </p>
      </div>

      <div class="form-field">
        <label for="deck-description">{{ 'DECK_CREATE.DESCRIPTION_LABEL' | translate }}</label>
        <textarea
          id="deck-description"
          rows="4"
          formControlName="description"
        ></textarea>
      </div>

      <div class="form-actions">
        <button
          type="submit"
          [disabled]="isSubmitting() || form.invalid"
          class="submit-btn"
        >
          {{ isSubmitting() ? ('DECK_CREATE.CREATING' | translate) : ('DECK_CREATE.CREATE_BUTTON' | translate) }}
        </button>
      </div>
    </form>
  </div>
</main>
