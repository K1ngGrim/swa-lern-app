<main class="page-content">
  <div class="form-container">
    <h1>{{ 'DECK_CREATE.TITLE' | translate }}</h1>

    <!-- Success Message -->
    @if (successMessage()) {
      <div class="alert alert-success">
        {{ successMessage() | translate }}
      </div>
    }

    <!-- Error Message -->
    @if (errorMessage()) {
      <div class="alert alert-error">
        {{ errorMessage() | translate }}
      </div>
    }

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="deck-form">
      <div class="form-field">
        <label for="deck-name">{{ 'DECK_CREATE.NAME_LABEL' | translate }}</label>
        <input
          id="deck-name"
          type="text"
          formControlName="name"
          [class.invalid]="form.get('name')?.invalid && form.get('name')?.touched"
        />
        @if (form.get('name')?.hasError('required') && form.get('name')?.touched) {
          <p class="field-error">
            {{ 'DECK_CREATE.NAME_REQUIRED' | translate }}
          </p>
        }
      </div>

      <div class="form-field">
        <label for="deck-description">{{ 'DECK_CREATE.DESCRIPTION_LABEL' | translate }}</label>
        <textarea
          id="deck-description"
          rows="4"
          formControlName="description"
        ></textarea>
      </div>

      <div class="form-actions">
        <button
          type="submit"
          [disabled]="isSubmitting() || form.invalid"
          class="submit-btn"
        >
          {{ isSubmitting() ? ('DECK_CREATE.CREATING' | translate) : ('DECK_CREATE.CREATE_BUTTON' | translate) }}
        </button>
      </div>
    </form>
  </div>
</main>
